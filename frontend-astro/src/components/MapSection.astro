---
import SectionHeader from './SectionHeader.astro'
import { getMapSection } from '../api/map'

const data = await getMapSection()
---

{data && (
  <section class="map-section">
    <SectionHeader title={data.title} subtitle={data.subtitle} />
    <div class="map-section__wrapper">
      <iframe
        class="map-section__iframe"
        src={data.embedUrl}
        width="1180"
        height="500"
        loading="lazy"
        allowfullscreen
        title="Карта расположения"
      ></iframe>
    </div>
  </section>
)}

<style lang="scss">
.map-section {
  &__wrapper {
    background-color: var(--color-accent-light);
    border-radius: 45px;
    padding: 16px;
    overflow: hidden;
  }

  &__iframe {
    display: block;
    width: 100%;
    height: 500px;
    border: none;
    border-radius: 32px;
  }
}

@media (max-width: 768px) {
  .map-section {
    &__wrapper {
      border-radius: 24px;
      padding: 8px;
    }

    &__iframe {
      height: 350px;
      border-radius: 18px;
    }
  }
}
</style>
